<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="{{ '/assets/css/styles.css' | relative_url }}" media="screen" type="text/css">
  <title>Liquid LSP Engine</title>
</head>

<body class="sidebar-hidden">
  <script>
    if (localStorage.getItem('sidebar-active') === 'true') {
      document.body.classList.remove('sidebar-hidden');
    }
  </script>

  <div id="container">
    <main id="main-content">
      {{ content }}
    </main>
  </div>
</body>
</html>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  crossorigin="anonymous">
</script>

<script
  src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.bundle.min.js">
</script>

<script>
  $('#sidebar-toggle-link').click(function(e) {
    e.preventDefault();
    $(document.body).toggleClass('sidebar-hidden');
    localStorage.setItem(
      'sidebar-active',
      localStorage.getItem('sidebar-active') === 'true' ? 'false' : 'true'
    );
  });

  if (document.body.scrollHeight > window.innerHeight + 500) {
    $(document.body).scrollspy({
      target: '#current-page-table-of-contents',
      offset: 40
    });
  }

  $(document).scroll(function() {
    if ($(document).scrollLeft() > 0) {
      localStorage.setItem('sidebar-active', 'false');
      $(document.body).addClass('sidebar-hidden');
    }
  });

  $('h2, h3').filter('[id]').each(function() {
    $(this).html('<a href="#'+$(this).attr('id')+'">' + $(this).text() + '</a>');
  });
</script>